{% load static %}
{% load hooks %}
{% load press_url %}

<div class="bg-hourglass-tan">
  <div class="container mx-auto max-w-screen-xl relative max-lg:z-50">
    <div
      class="
        max-lg:pb-2 pt-2 lg:px-8 flex flex-col lg:flex-row gap-3 justify-between
      ">
      <div class="flex gap-3 justify-between">
        <div class="max-lg:p-8 lg:pt-5 flex-shrink flex">
          <a href="{{ request.press_base_url }}">
            <img
              class="max-lg:h-6 lg:h-7"
              src="{% static 'hourglass/media/logo/OLH-symbol-black.svg' %}"
              alt="{{ request.press.name }}">
          </a>
        </div>
        <nav class="lg:hidden">
          <ul class="text-sm font-poppins-medium">
            {% include 'elements/nav_slide_drawer.html' with viewport='medium' %}
          </ul>
        </nav>
      </div>
      <nav
        id="nav-options"
        class="max-lg:hidden group/top
        ">
        <ul
          class="
            text-sm font-poppins-medium
            flex max-lg:flex-col
            lg:flex-row
            lg:justify-center
            lg:items-center
          ">
          {% for item in navigation_items %}
            {% if not item.for_footer %}
              {% include 'elements/nav_item.html' with viewport='medium' %}
            {% endif %}
          {% endfor %}
          {% include 'elements/nav_search.html' with viewport='medium' %}
          {% include 'elements/nav_account.html' with viewport='medium' %}
        </ul>
      </nav>
    </div>
  </div>
</div>

<script>

  function toggleSideNav(event) {
    const navOptions = document.getElementById('nav-options')
    navOptions.classList.toggle('max-lg:hidden')
  }

  const slideDrawer = document.getElementById('slide-drawer')
  slideDrawer.addEventListener('click', event => toggleSideNav(event))

  function toggleDropdown(event, item) {
    event.preventDefault()
    dropdownId = item.getAttribute('data-target')
    const dropdown = document.getElementById(dropdownId)
    item.classList.toggle('lg:font-poppins-bold')
    dropdown.classList.toggle('hidden')
  }

  const topNavItems = document.getElementsByClassName('toggles-dropdown')
  for (const item of topNavItems) {
    item.addEventListener('click', event => toggleDropdown(event, item))
  }

</script>
